<h2>Recent Blog Posts</h2>
<div class="blog-post" ng-repeat="post in posts">
    <h3 class="post-title">{{post.title}}</h3>
    <div class="post-content" ng-bind-html="post.content | showAsHtml"></div>
    <div class="post-author">--<span class="emphasis">{{post.author.displayName}}</span> {{formatDate(post.published)}}</div>
    <div ng-controller="collapseCtrl">
        <button class="section-collapse" ng-click="isCollapsed = !isCollapsed">
            <span>Comments</span>
            <span class="collapse-arrow fa fa-arrow-circle-down" ng-class="{'arrow-up': !isCollapsed}" aria-hidden="true"></span>
        </button>
        <div uib-collapse="isCollapsed" class="post-comments collapsible">
            <div class="comment" ng-repeat="comment in post.comments">
                <div class="comment-content">{{comment.content}}</div>
                <div class="comment-author">--<span class="emphasis">{{comment.author.displayName}}</span> {{formatDate(comment.published)}}</div>
            </div>
        </div>
    </div>
</div>